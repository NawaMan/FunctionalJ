# This workflow will build a Java project with Maven

name: Java CI with Maven

on:
  push:
    branches: [ master, development ]
  pull_request:
    branches: [ master, development ]

jobs:
  build:
    
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Set up JDK 8
      id:   setup-jdk-8
      uses: actions/setup-java@v3
      with:
        java-version: '8'
        distribution: 'adopt'
        architecture: 'x64'
    
    - name: Set JAVA_8_HOME
      run: echo "JAVA_8_HOME=${{ steps.setup-jdk-8.outputs.java-home }}" >> $GITHUB_ENV
      
    - name: Set up JDK 17
      id:   setup-jdk-17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'adopt'
        architecture: 'x64'
    
    - name: Set JAVA_17_HOME
      run: echo "JAVA_17_HOME=${{ steps.setup-jdk-17.outputs.java-home }}" >> $GITHUB_ENV
    
    - name: Build
      run: ./build.sh
    